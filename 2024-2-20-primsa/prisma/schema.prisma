datasource db {
    provider = "sqlite"
    url      = "file:./dev.db"
}

generator client {
    provider = "prisma-client-js"
}

model User {
    id           String         @id @default(cuid())
    email        String         @unique
    name         String?
    password     String?
    accounts     Accounts[]
    transactions Transactions[]
    payees       payees[]
}

model Accounts {
    id           String         @id @default(cuid())
    title        String?
    balance      Int?
    user         User           @relation(fields: [userId], references: [id])
    userId       String         @map("user_id")
    transactions Transactions[]
}

model Transactions {
    id        String    @id @default(cuid())
    amount    Int?
    currency  String?
    date      DateTime?
    account   Accounts  @relation(fields: [accountId], references: [id])
    accountId String    @map("account_id")
    user      User      @relation(fields: [userId], references: [id])
    userId    String    @map("user_id")
}

model payees {
    id     String  @id @default(cuid())
    name   String?
    user   User    @relation(fields: [userId], references: [id])
    userId String  @map("user_id")
}
